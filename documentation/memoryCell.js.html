<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: memoryCell.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: memoryCell.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let cellSize = 90;
let spaceBetweenCells = 50;
let textSpace = 90;
let textSize = 13;

/**
 * Class representing a cell of memory of the program execution.
 */
class MemoryCell {

    /**
     * Constructor for a new MemoryCell object.
     * 
     * @param {int} value - Initial value for the cell
     * @param {Font} font - Font for drawing the value
     */
    constructor(value, font) {
        this.value = value;
        this.addCube();
        this.addText(font);
    }

    /**
     * Creates a cube mesh and adds it to the cell for it to be updated and drawn later.
     */
    addCube() {
        var geometry = new THREE.BoxBufferGeometry( cellSize, cellSize, cellSize );
        this.object = new THREE.Mesh( geometry, new THREE.MeshBasicMaterial( { 
            //color: Math.random() * 0xffffff 
            color: 0x777777,
            wireframe: true
        } ) );
        this.object.position.x = 0;
        this.object.position.y = 0;
        this.object.position.z = 0;
        visualizer.scene.add(this.object);
    }

    /**
     * Create a text mesh for drawing the value of the cell and adds it in the scene.
     * 
     * @param {Font} font - The font previously loaded for drawing the cell value
     */
    addText(font) {
        var textMaterial = new THREE.MeshPhongMaterial( { color: 0x0033ff, specular: 0x555555, shininess: 30 } );
        var textGeometry = new THREE.TextGeometry(this.value, {
            font: font,
            size: textSize,
            height: 5,
            curveSegments: 12,
            bevelEnabled: true,
            bevelThickness: 1,
            bevelSize: 1,
            bevelSegments: 5
        } );
        this.textMesh = new THREE.Mesh( textGeometry, textMaterial );
        this.textMesh.position.x = this.object.position.x;
        this.textMesh.position.y = this.object.position.y + textSpace;
        this.textMesh.position.z = this.object.position.z;
        visualizer.scene.add(this.textMesh);
    }

    /**
     * Draw the cell in the scene with the corresponding coordinates according to the
     * cell index and the current pointer index.
     * 
     * @param {int} idx - Index of the cell
     * @param {int} currentCellIdx - Index of the current pointer
     * @param {Font} font - Font to draw the cell value
     */
    draw(idx, currentCellIdx, font) {
        if (idx == currentCellIdx) {
            this.object.material.color.setHex(0xff0000);
        }
        else {
            this.object.material.color.setHex(0x777777);
        }
        this.object.position.x = 0 + ((cellSize + spaceBetweenCells) * (idx - currentCellIdx));
        this.object.position.y = 0;
        this.object.position.z = 0;

        visualizer.scene.remove(this.textMesh);
        this.addText(font);
    }

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BrainfuckInterpreter.html">BrainfuckInterpreter</a></li><li><a href="Loop.html">Loop</a></li><li><a href="MemoryCell.html">MemoryCell</a></li><li><a href="Visualizer.html">Visualizer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Oct 15 2017 22:50:32 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
